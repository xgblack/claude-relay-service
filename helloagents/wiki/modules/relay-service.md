# relay-service

## 目的
提供统一的 API 转发、账户调度与限流能力。

## 模块概述
- **职责:** 处理 `/api`、`/openai`、`/gemini` 等入口的鉴权、限流、路由分发。
- **状态:** ✅稳定
- **最后更新:** 2025-12-09

## 规范
### 需求: 多上游调度
**模块:** relay-service
路由请求根据配置的账户池选择上游，并记录调用统计。

#### 场景: 正常转发
- 验证 API Key，选择可用账户
- 请求成功则记录 usage，并返回上游响应

## API接口
- 参见 wiki/api.md 统一说明

## 数据模型
- 参见 wiki/data.md 调用记录与 API Key 元数据

## 依赖
- Redis 存储调用记录与限流
- 上游 SDK/HTTP 客户端

## 变更历史
- 202512091750_usage-timeline - 新增调用明细聚合接口配套数据阅读
